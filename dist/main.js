(()=>{var e={201:()=>{},972:()=>{alert("Bienvenido al chat de webpack")}},t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{"use strict";n(972);var e,t,r,s=n(201),i=[],o=(e="txtUserName",r="Guest",window.location.href.indexOf(e)>-1&&(r=(t={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,n,r){t[n]=r})),t)[e]),r);document.getElementsByTagName("body")[0],document.getElementById("displayName").innerHTML=o;var d=document.getElementById("msgContainer"),a=(document.getElementById("inputContainer"),document.getElementById("input"));a.addEventListener("input",s.autoResizeHeight,0),a.addEventListener("keypress",(function(e){13==(e.keyCode||e.which)&&(e.preventDefault(),l())})),a.placeholder="Escr√≠be tu mensaje...",a.maxLength="140";var c=document.getElementById("btn");function l(e){for(var t,n=a.value,r=!1,s=0;s<n.length;s++)" "!=n.charAt(s)&&"\n"!=n&&(r=!0);""!=n&&r&&(t=n,fetch("http://3.129.101.133:3050/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t,user:o})})),a.value="",a.style.height="25px"}async function p(e){fetch("http://3.129.101.133:3050/chats").then((e=>e.json())).then((t=>t.forEach((t=>{if(0==i.includes(t.id)){var n=document.createElement("div");if(d.appendChild(n),n.className="msgBox",t.user==o?(n.style.borderRadius="12px 12px 0 12px",n.style.alignSelf="flex-end"):(n.style.borderRadius="12px 12px 12px 0",n.style.alignSelf="flex-start"),null!=t.description.trim().toLowerCase().match(/.(jpeg|jpg|gif|png)$/)){n.innerHTML="<b class='uname'>"+t.user+"</b><br>";var r=document.createElement("img");n.appendChild(r),r.src=t.description,r.style.width="375px"}else if(function(e){const t=new RegExp("^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$");return console.log(t.test(e)),t.test(e)}(t.description)){n.innerHTML="<b class='uname'>"+t.user+"</b><br><a href='"+t.description+"' style='color:rgb(51,102,204)'>"+t.description+"</a><br>";var s=document.createElement("iframe");n.appendChild(s),s.src="https://s.wordpress.com/mshots/v1/"+t.description,s.style.width="375px"}else n.innerHTML="<b class='uname'>"+t.user+"</b><br>"+t.description;(e||t.user==o)&&(document.documentElement.scrollTop=document.documentElement.scrollHeight),i.push(t.id)}}))))}c.addEventListener("click",l);var u=document.getElementById("sendIcon");c.appendChild(u),u.src="../icons/send.png",p(!0),window.setInterval((function(){p(!1)}),1e3)})()})();